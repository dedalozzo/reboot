var api="http://programmazione.me/api/";function like(a){$("article > div.item-tools > a:first-child").click(function(d){d.preventDefault();var b=$(this).parents("article").attr("id");var c=$(this);$.ajax({type:"POST",url:api+"like/",xhrFields:{withCredentials:true},dataType:"json",data:{id:b},success:function(e){span=c.next();votesCount=Number(span.text());switch(e){case 1:votesCount++;c.addClass("active");break;case 2:votesCount--;c.removeClass("active");break;case 0:break;case -1:break}span.text(votesCount)}})})}function star(b){var a=$("a.btn-star");a.click(function(d){d.preventDefault();var c=$(this).attr("id");$.ajax({type:"POST",url:api+"/tag/star/",xhrFields:{withCredentials:true},dataType:"json",data:{id:c},success:function(e){if(e[0]){switch(e[1]){case 1:a.addClass("active");break;case -1:a.removeClass("active");break}}else{alert(e[1])}}})})}$(document).ready(function(a){like(a);star(a)});